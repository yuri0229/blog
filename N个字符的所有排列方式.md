## 分析

首先把问题缩小，假设abcd四个字符

第一位有4种情况，从第1位开始循环4次，便得到结果，那么试想一下把已知的第1位隐藏，剩下的3位又组成了新的字符串bcd，对子串再循环便可以得到第2位的3种情况。
直到最后一个字符共产生了4次循环。

得到一个思路，N个字符组成的字符串，排列的方式由N层嵌套循环，每个子循环起点后移一位，形成一个新的字符串，再用相同的规则处理，直到最后一位字符。

但这只是用程序推演出N个字符不同的排列次数等于N的阶乘，还没有解决我们的问题，是要得到每一次的排列结果。

继续思考，如果将每层循环取出的一位字符移动到本层的起始位（注意这里强调的是本层也就是分割后的新字符串，而不是整个原始字符串）
当最内层循环结束时就完成了对整个字符串的一次排列，也就得到了结果：

``` php
function test($arr, $n){
    GLOBAL $len;
    if($n == $len){ /* 判断到末尾 */
        for($j=0; $j<$n; $j++){
            echo $arr[$j];
        }
        echo "\r\n";
    }

    for($i=$n; $i<$len; $i++){
        if($i != $n){   /* 第一位无需移动 */
            $tmp = $arr[$i];
            $arr[$i] = $arr[$n];
            $arr[$n] = $tmp;
        }
        test($arr, $n + 1);
    }
}

$arr = array('a', 'b', 'c', 'd');
$len = count($arr);
echo test($arr, 0);
```
